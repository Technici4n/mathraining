"use strict";var mathjaxEditing=function(){function e(e,t,n){var r=f.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(v.Browser.isMSIE&&(r=r.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)f[t]="",t--;f[e]="@@"+d.length+"@@",n&&(r=n(r)),d.push(r),l=c=h=null}function t(t){l=c=h=null,d=[];var n;/`/.test(t)?(t=t.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,function(e){return e.replace(/\$/g,"~D")}),n=function(e){return e.replace(/~([TD])/g,function(e,t){return{T:"~",D:"$"}[t]})}):n=function(e){return e},f=g(t.replace(/\r\n?/g,"\n"),m);for(var t=1,r=f.length;t<r;t+=2){var i=f[t];"@"===i.charAt(0)?(f[t]="@@"+d.length+"@@",d.push(i)):l?i===c?p?h=t:e(l,t,n):i.match(/\n.*\n/)?(h&&(t=h,e(l,t,n)),l=c=h=null,p=0):"{"===i?p++:"}"===i&&p&&p--:i===a||"$$"===i?(l=t,c=i,p=0):"begin"===i.substr(1,5)&&(l=t,c="\\end"+i.substr(6),p=0)}return h&&e(l,h,n),n(f.join(""))}function n(e){return e=e.replace(/@@(\d+)@@/g,function(e,t){return d[t]}),d=null,e}function r(){o=!1,v.Queue(["Typeset",v,u])}function i(){!o&&s&&(o=!0,v.Queue(r))}var s=!1,o=!1,u=null,a="$",f,l,c,h,p,d,v=MathJax.Hub;v.Queue(function(){s=!0,v.processUpdateTime=50,v.Config({"HTML-CSS":{EqnChunk:10,EqnChunkFactor:1},SVG:{EqnChunk:10,EqnChunkFactor:1}})});var m=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[\\{}$]|[{}]|(?:\n\s*)+|@@\d+@@)/i,g;return g=3==="aba".split(/(b)/).length?function(e,t){return e.split(t)}:function(e,t){var n=[],r;if(!t.global){r=t.toString();var i="";r=r.replace(/^\/(.*)\/([im]*)$/,function(e,t,n){return i=n,t}),t=RegExp(r,i+"g")}for(var s=t.lastIndex=0;r=t.exec(e);)n.push(e.substring(s,r.index)),n.push.apply(n,r.slice(1)),s=r.index+r[0].length;return n.push(e.substring(s)),n},{prepareWmdForMathJax:function(e,r,s){u=document.getElementById("wmd-preview"+r),a=s[0][0],r=e.getConverter(),r.hooks.chain("preConversion",t),r.hooks.chain("postConversion",n),e.hooks.chain("onPreviewRefresh",i)}}}();